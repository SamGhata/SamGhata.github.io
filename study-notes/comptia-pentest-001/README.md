
# CompTIA PenTest+: PT0-001

These notes follow a [study outline](https://github.com/SamGhata/SamGhata.github.io/blob/main/study-plans/comptia-pentest-001.md) that was created for an EasyClass experiment during October through December 2021. The [exam](https://www.comptia.org/certifications/pentest#examdetails) is in transition from version 001 to 002 during this period, but no updated study materials are yet available.  

---

## Week 1/8
### Day 1
**Introduction**  
Exam domains -  
Planning and Scoping: Chapter 2  
Information Gathering and Vulnerability Identification: Chapters 3, 4, 5, 6, 10  
Attacks and Exploits: Chapters 6, 7, 8, 9, 10  
Penetration Testing Tools: Chapters 3, 4, 5, 6, 7, 8, 9, 10, 11, 12  
Reporting and Communications: Chapter 12  
  
Additional resources for hands-on exercises:
* [Exploit-Exercises.com](https://exploit-exercises.com/) provides virtual machines, documentation, and challenges covering a wide range of security issues  
* [Hacking-Lab](https://hacking-lab.com/index.html) provides capture-the-flag (CTF) exercises in a variety of fields  
* The [OWASP Hacking Lab](https://owasp.org/www-project-hacking-lab/) provides excellent web application–focused exercises  
* [PentesterLab](https://www.pentesterlab.com/exercises/) provides a subscription-based access to penetration testing exercises  
* The [InfoSec Institute](https://resources.infosecinstitute.com/topics/capture-the-flag/) provides online capture-the-flag activities with bounties for written explanations of successful hacks. Note - this resource has been moved to *archive* since it was originally noted in the book.  

### Day 2
#### Chapter 1
**What Is Penetration Testing?**  
attacker's main skill is using available tools, applying custom edits as needed, then using them to synthesize information provided and pinpoint potential weaknesses - penetration testing mimics this process to identify and correct issues  
  
*CIA triad* - model to descrive the goals of information security  
* Confidentiality - prevent unauthorized access  
* Integrity - prevent unauthorized modificaton  
* Availability - ensure legitimate use  
  
*DAD triad* - attacker's goals  
* Disclosure attacks gain unauthorized access  
* Alteration attacks make unauthorized changes  
* Denial attacks prevent legitimate use  

hacker mindset - finding one vital flaw that defeats the entire security system, only need to "win" once of many attempts to be successful  
Cybersecurity professionals must "win" 100% to be successful  
  
**Reasons for Penetration Testing**  
"penetration testing provides us with visibility into 
the organization’s security posture that simply isn’t available by other means"  
  
SOC - Security Operation Center, monitoring station for IDS alerts etc  
  
threat hunting - use the attacker mindset to search infrastructure for artifacts of successful attack, philosophy of "presumption of compromise"  
  
compliance testing - cybersecurity required as a matter of law or regulation  
PCI DSS - Payment Card Industry Data Security Standard, regulation that governs all organizations involved in the storage, processsing, or transmission of credit and debit card transactions, must complete thorough pentesting of all systems    
CDE - Cardholder Data Environment  
PCI DSS brief [goals](https://www.pcisecuritystandards.org/pci_security/maintaining_payment_security) and document [library](https://www.pcisecuritystandards.org/document_library)  
  
[NIST SP 800-115](https://www.nist.gov/privacy-framework/nist-sp-800-115)  
NIST Special Publication 800-115, Technical Guide to Information Security Testing and Assessment ([PDF](https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-115.pdf))  
  
[Information Supplement: Penetration Testing Guidance](www.pcisecuritystandards.org/documents/Penetration-Testing-Guidance-v1_1.pdf)  

**Who Performs Penetration Tests?**  
internal vs external penetration testing teams  
  
internal - current employees, testing full time or on schedule, have contextual knowledge of organization, less expensive, may have unconscious bias (fail to imagine/test issue), could be difficult to spot flaws if they contributed to the work, may lack independence    
  
external - typically consulting firm, highly skileed (all the do, all day), independent, less bias or "overlooking", may have conflict of intrest if working for competitor etc, shouldn't be responsible for designing AND testing the system  
  
scheduled, repeted testing needed - due to system changes, new exploits, different personell may have different methodology or skills and find new issues, consider rotating specific work among team members if possible  

### Day 3
**The CompTIA Penetration Testing Process**  
*CompTIA model for penetration testing stages*  
* Planning and Scoping  
* Information Gathering and Vulnerability Identification  
* Attacking and Exploiting  
* Reporting and Communicating Results  

the difference between hacking and penetration testing is *permission and agreement* on the activities (planning and scoping)  

(note - PenTest+ supplies about 1/3 of material content also used in the CySA+ exam)
 

**The Cyber Kill Chain**  
pioneered by [Lockheed Martin](https://www.lockheedmartin.com/en-us/capabilities/cyber/cyber-kill-chain.html) in [2011](https://www.lockheedmartin.com/content/dam/lockheed-martin/rms/documents/cyber/LM-White-Paper-Intel-Driven-Defense.pdf) - guide available *Applying Cyber Kill Chain® Methodology* ([PDF](https://www.lockheedmartin.com/content/dam/lockheed-martin/rms/documents/cyber/Gaining_the_Advantage_Cyber_Kill_Chain.pdf))  

7 step outline:  
* *Reconnaissance* - OSINT and initial scans  
* *Weaponization* - uses info discovered to craft a specific attack tool  
* *Delivery* - via network/app exploit, social engineering, USB drop, email, or other  
* *Exploitation* - payload triggered and access/foothold achieved  
* *Installation* - foothold converted to persistance via system backdoor, credential theft or new user, installed web shell, etc  
* *Command & Control* - remote access of compromised system  
* *Actions on Objectives* - the "end goal" such as exfiltration, DoS, further intrustion, etc  

Reconnaissance falls in Information Gathering for the CompTIA model, with all the rest in Attacking and Exploiting  

additional reading - there is another popular model called [MITRE ATT&CK® framework](https://attack.mitre.org/), brief [comparison](https://resources.infosecinstitute.com/topic/how-to-use-the-mitre-attck-framework-and-the-lockheed-martin-cyber-kill-chain-together/)  
 
**Tools of the Trade**  
the CompTIA [exam objectives](https://www.comptia.jp/pdf/comptia-pentest-exam-objectives-(2-0).pdf) list 50 tools to be familar with knowing use-case and operation (page 11, [screencap](https://raw.githubusercontent.com/SamGhata/SamGhata.github.io/dev/study-notes/comptia-pentest-001/image/comptia-pentest-tools.png))  
"be able to describe the purpose of each of these tools in a coherent sentence"  

#### TODO add links and descriptions
*Reconnaissance*  
WHOIS  
Nslookup  
the Harvester  
Recon-ng  
Censys  
FOCA (Fingerprinting Organizations with Collected Archives)  
Shoda  
Maltego  
Nmap  

*Vulnerability Scanners*  
Nessus  
OpenVAS  
Sqlmap  
Nikto  

*Social Engineering*  
SET (Social Engineer Toolkit)  
BeEF (Browser Exploitation Framework)  

*Credential-Testing*  
Hashcat, John the Ripper, Hydra, Medusa, Pararot, Cain and Able - password crackers  
CeWL  
Mimikatz  
DirBuster  

*Debuggers*  
Immunity Debugger  
GDB  
OllyDbg  
WinDbg  
IDA  
Drozer
APKX, APK Studio  - decompile Android application packages (APKs)

*Software Assurance*  
FindBugs, find-sec-bugs  
Peach, AFL  
SonarQube  
YASCA (Yet Another Source Code Analyzer)  

*Network Testing*  
Wireshark  
Hping  
Aircrack-ng, WiFite, Kismet  

*Remote Access*  
SSH (Secure Shell)  
Ncat, NETCAT  
Proxychains  

*Exploitation*  
Metasploit  
SearchSploit  
PowerSploit, Empire  
Responder  
Impacket  


**Discord - Certification Station \#pentest-plus pinned links**  
https://www.stationx.net/nmap-cheat-sheet/  
https://github.com/xChockax/Cheat-Sheets/blob/master/Nmap%20Cheat%20Sheet.pdf  
Nmap flags (by Am):  
```
Nmap Command-Line Parameters

You are expected to be familiar with Nmap and some of the different Nmap switches for the CompTIA PenTest+ certification exam. Following are the Nmap switches to be familiar with:

    -sP: Used to do a ping sweep with Nmap.
    -sS: Used to perform a SYN scan that does not establish a full connection with the port.
    -sT: Used to perform a TCP connect scan.
    -p: Used to specify the ports to be scanned.
    -sV: Used to return the version of the software a port is associated with.
    -O: Used to perform an operating system (OS) fingerprint to identify the OS of a system.
    -Pn: Used to disable pings.
    -T0: A paranoid scan used to try to avoid an intrusion detection system (IDS) by increasing the time between scan packets delivered. This is the slowest of scans.
    -T4: An aggressive scan that increases the speed of the scan and assumes you have the bandwidth to do so. Use this scan if you are not worried about detection.
```
### Day 4
No notes as only reading was the chapter's end Summary and Exam Objectives (pages 23-34). Worth reading directly for reviews later and before practice exams.  

### Day 5
#### Chapter 2
**Planning and Scoping Engagements**  
*scope* - determines what penetration testers will do and how their time will be spent  

[Penetration Testing Execution Standard](http://www.pentest-standard.org/index.php/Main_Page) - resource with information on all aspects of pentesting  
[PTES Technical Guidelines](http://www.pentest-standard.org/index.php/PTES_Technical_Guidelines) - useful outlines but some information outdated, wiki tracking notes edits to be approaching 10 years ago (2012-2014)  

three major assessment types -  
* *goals-based or objectives based* - conducted for specific reasons, validation of new or changed items  
* *compliance-based* - performed in response to some kind of requirement such as law, regulation, or internal protocols  
* *red-team* - act like an atacker with goal of targeting sensitive data or systems to acquire data and access, may not fully describe issues found but can aid training response teams or validate security designs and practices  

three major classifications for assessments -  
* *white box* - "crystal box"/"full knowledge" of network and systems designs, access to credentials, faster route as discovery is not required, can be very effective but provides different view than an unpriveleged attacker or review of common measures that would deter most attacks  
* *black box* - "zero knowledge," closest to an actual attack, time consuming but likely best to model real issues, skill of tester determines level of security and may be defeated by an attack or greater skill or resources  
* *gray box* - a mix the helps focus the testers' time and effort while also providing scenerio close to an attack  

Adversary tiers (from least concerning to greatest) -  
* Script Kiddies  
* Hacktivists & Hacking Groups  
* Professional Black Hats  
* Organized Crime  
* APTs (Advanced Persistent Threat)  

*rules of engagement* (RoE) - follows decisions of assessment type and knowledge level, key elements include:  
* timeline -  depending on goals can be purposely during periods of low system activity or high activity  
* locations, systems, applications, or other targets included; may require interaction with third-party service providers  
* data handling for information collected - use of NDAs, encryption, data disposal  
* targets' expected behaviors - shunning, blacklisting, and other defenses along with whether they will be active during assessment  
* resources committed - personell involved (admins, devs, etc) likely increase as permiteted knowledge during the test increases such as gray and white box testing  
* legal concerns - synopsis of regulatory concerns affecting organization, testing team, remote locations or other affected parties  
* communication channels (when and how) - updates or final report, avenues for unexpected issues  
* internal contact - necessary for serious events inluding evidence of previous compromise, accidental breach of RoE, critical issue discovered, other serious events  
* who in the organization is permitted to contact the test team - prevents conflicts with Csuite level or other members of organization  

 

## Week 2/8
### Day 6
 

### Day 7


### Day 8


### Day 9


### Day 10


## Week 3/8
### Day 11


### Day 12


### Day 13


### Day 14


### Day 15


## Week 4/8
### Day 16


### Day 17


### Day 18


### Day 19
 

### Day 20
 

## Week 5/8
### Day 21
 

### Day 22


### Day 23
 

### Day 24


### Day 25


## Week 6/8
### Day 26


### Day 27


### Day 28


### Day 29


### Day 30


## Week 7/8
### Day 31


### Day 32


### Day 33


### Day 34
 

### Day 35
 

## Week 8/8
### Day 36


### Day 37

